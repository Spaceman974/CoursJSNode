<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="container">
<h1 class="display-1">My cities</h1>
<ul class="list-group mb-5 mt-5">
    <% cities.forEach( (city) => { %>
        <li class="list-group-item"> <%= city %></li>
    <% }) %>
</ul>

<!-- Commentaire pour dire que la vue en dessous est séparée de celle d'au dessus-->
<!-- views/index.ejs-->
<form action="/cities" method="post">
    <div>
        <label for="city" class="form-label"> </label>
        <input class="form-control <%= typeof errors !== 'undefined' && errors.length > 0 ? 'is-invalid' : '' %>"
               type="text"
               name="city" id="city"
               value="<%= typeof city !== 'undefined' ? city : '' %>" placeholder="Ajoutez une ville">


        <!--Gestion des messages d'erreur en cas de non respect de regex-->
        <div class="invalid-feedback">
            <!-- Si mon tableau d'erreurs n'est pas vide-->
            <% if (typeof errors !== "undefined" && errors.length > 0){ %>
                <!-- afficher le premier message d'erreur -->
                <%= errors[0].msg %>
            <% } %>
        </div>

        <button class="btn btn-primary" type="submit"> ajouter</button>
    </div>
</form>
<div class="d-flex justify-content-center">
    <img src="/images/matthias.jpg" alt="" width="250" class="rounded-circle">
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>
</html>